(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3954:function(e,t,a){Promise.resolve().then(a.bind(a,6138))},6138:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(7437),n=a(2730);let l=(0,a(6142).ZF)({apiKey:"AIzaSyDx1glLZEJsgmQUiv5fjmVoPIXTzbMKTlE",authDomain:"firescript-78734.firebaseapp.com",projectId:"firescript-78734",storageBucket:"firescript-78734.appspot.com",messagingSenderId:"450035952547",appId:"1:450035952547:web:cddf7820a32375a779c816",measurementId:"G-LM6WXF03G6"}),r=new n.hJ;r.setCustomParameters({prompt:"select_account "});let i=(0,n.v0)(),o=()=>(0,n.rh)(i,r);var c=a(2265),d=a(8121);let m=(0,d.ad)(l);async function u(e){let{name:t,lastName:a,born:s}=e;try{let e=await (0,d.ET)((0,d.hJ)(m,"users"),{first:t,last:a,born:s});return console.log("Document written with ID: ",e.id),!0}catch(e){return console.error("Error adding document: ",e),!1}}async function x(){let e=await (0,d.PL)((0,d.hJ)(m,"users")),t=[];return e.forEach(e=>{console.log("".concat(e.id," => ").concat(e.data()));let a=e.data();t.push({id:e.id,name:a.first,lastName:a.last,born:a.born})}),t}function h(e){let{data:t}=e;return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Records"}),(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:e.id}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:e.lastName}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:e.born})]},e.id))})]})]})}function p(e){let{displayName:t,email:a}=e,[n,l]=(0,c.useState)({name:"",lastName:"",born:""}),r=e=>{l({...n,[e.target.name]:e.target.value})},[i,o]=(0,c.useState)(!1),d=async e=>{e.preventDefault();let t=await u(n);f(),o(t),setTimeout(()=>{o(!1),l({name:"",lastName:"",born:""})},2e3),console.log(n)},[m,p]=(0,c.useState)(Array);async function f(){let e=x();console.log("Fetching data from database"),e.then(e=>p(e))}return(0,c.useEffect)(()=>{f()}),(0,s.jsxs)("div",{className:"flex flex-col items-center h-screen",children:[(0,s.jsxs)("h1",{className:"text-3xl mb-28 justify-center",children:["Hello, ",t,"!"]}),(0,s.jsx)("h2",{className:"text-2xl mb-4 font-bold",children:"Send info to Firestorm"}),(0,s.jsxs)("form",{onSubmit:d,className:"bg-gray-100 p-6 rounded-lg shadow-md flex",children:[(0,s.jsxs)("div",{className:"mb-4 mx-4",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Name:"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:r,className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,s.jsxs)("div",{className:"mb-4 mx-4",children:[(0,s.jsx)("label",{htmlFor:"lastName",className:"block text-gray-700 font-bold mb-2",children:"Last Name:"}),(0,s.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:n.lastName,onChange:r,className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,s.jsxs)("div",{className:"mb-4 mx-6",children:[(0,s.jsx)("label",{htmlFor:"born",className:"block text-gray-700 font-bold mb-2",children:"Date of Birth:"}),(0,s.jsx)("input",{type:"number",id:"born",name:"born",value:n.born,onChange:r,className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-4 px-4 rounded focus:outline-none focus:shadow-outline",children:"Submit"})]}),i&&(0,s.jsxs)("h4",{className:"mt-3 font-semibold",children:["Data stored in Firestorm successfully :",")"]}),(0,s.jsx)("div",{className:"mt-12",children:(0,s.jsx)(h,{data:m})})]})}function f(){let[e,t]=(0,c.useState)(!1),[a,n]=(0,c.useState)(""),[l,r]=(0,c.useState)(""),i=async()=>{var e,a;let s=await o();console.log(s),t(!0),n(null!==(e=s.user.displayName)&&void 0!==e?e:""),r(null!==(a=s.user.email)&&void 0!==a?a:"")};return e?(0,s.jsx)(p,{displayName:a,email:l}):(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"text-black bg-white p-4 rounded-lg",onClick:i,children:"Sign in With Google"})})}}},function(e){e.O(0,[358,807,199,971,69,744],function(){return e(e.s=3954)}),_N_E=e.O()}]);